import cv2
import numpy as np
widthStream=1920
heightStream=1080
Stream = cv2.VideoCapture(0,cv2.CAP_DSHOW)
streamID=0
while True:
    ret,stream=Stream.read()
    if not ret:
       break
    stream=cv2.flip(stream,1)
    stream=cv2.resize(stream,(widthStream,heightStream))
    HSV=cv2.cvtColor(stream,cv2.COLOR_BGR2HSV)
    LowerG=np.array([0,120,70])
    UpperG=np.array([10,255,255])
    binary=cv2.inRange(HSV,LowerG,UpperG)
    binary=cv2.bitwise_not(binary)
    video_framed_masked=cv2.bitwise_and(stream,stream,mask=binary)
    if streamID==60:
       Sample=stream.copy()
    elif streamID>60:
       Sample_mask=cv2.bitwise_not(binary)
       Sample_masked=cv2.bitwise_and(Sample,Sample,mask=Sample_mask)
       cloak=cv2.bitwise_or(video_framed_masked,Sample_masked)
       cv2.imshow("Invisibilty Cloak",cloak)
    streamID+=1
    if cv2.waitKey(1)& 0xFF == ord("s"):
       break
Stream.release()   
cv2.destroyAllWindows()         
